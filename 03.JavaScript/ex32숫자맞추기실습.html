
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon:400" rel="stylesheet">
    <style>
        body{
            background: url("https://media.istockphoto.com/photos/clear-blue-sky-as-a-background-wallpaper-pastel-sky-wallpaper-picture-id608634136?k=20&m=608634136&s=170667a&w=0&h=QqB80Ci9iSHOw0OjdM1fNbEeDrSvHG7-YuXNf_TcQnE=");
            background-repeat: no-repeat;
            background-size: cover;
            text-align: center;
            height: 100vh;
            font-family: "do hyeon";
        }
        .container{
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            padding: 50px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 25px;
            box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
        }
        #result-area,
        #chance-area {
            font-size: 1.5em;
        }
        #user-input {
            width: 300px;
            height: 50px;
            font-size: 1.5em;
            text-align: center;
            margin-top: 10px;
            outline: 0;
            border: 0;
            border-radius: 10px;
        }
        #btn-area{
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ìˆ«ì ë§ì¶”ê¸° ê²Œì„</h1>

        <div id="result-area">ê²°ê³¼ê°’ì´ ì—¬ê¸° ë‚˜ì˜µë‹ˆë‹¤!</div>
        <div id="chance-area">ë‚¨ì€ ê¸°íšŒ:5ë²ˆ</div>

        <input type="text" id="user-input" placeholder="1~100 ì‚¬ì´ì˜ ì •ìˆ˜ ê°’ì„ ë„£ìœ¼ì„¸ìš”">
        
        <div id="btn-area">
            <button id="play-button" class="btn btn-success">í™•ì¸</button>
            <button id="reset-button" class="btn btn-danger">ì´ˆê¸°í™”</button>
        </div>

    </div>

    <!-- JavaScript -->
    <script>
        const result_area = document.getElementById("result-area")
        const chance_area = document.getElementById("chance-area")
        const user_input = document.getElementById("user-input")
        const play_button = document.getElementById("play-button")
        const reset_button = document.getElementById("reset-button")

        let ranNum = parseInt(Math.random() * 100 + 1);
        let inputNum;
        let inputNumList = [];
        let chance = parseInt(chance_area.innerText[chance_area.innerText.length-2]);
        console.log(ranNum);
        function playEvent(){
            // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê³  ì…ë ¥ë€ ì´ˆê¸°í™”
            inputNum = parseInt(user_input.value);
            user_input.value = "";
            // ì…ë ¥ê°’ì´ ê¸°ì¡´ ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ”ì§€ í™•ì¸í•˜ê³  ì¶”ê°€í•˜ê¸°
            if(!inputNumList.includes(inputNum)){
                inputNumList.push(inputNum);
            }else{
                // ì…ë ¥ê°’ì´ ì´ë¯¸ ì¡´ì¬í•  ê²½ìš°, ê²½ê³  í…ìŠ¤íŠ¸ ì¶œë ¥ í›„ ë¦¬í„´
                result_area.innerText = `${inputNum}ì€(ëŠ”) ì´ë¯¸ ì…ë ¥í•œ ìˆ˜ì…ë‹ˆë‹¤.`;
                return;
            }
            // ì…ë ¥ê°’ì´ ëª©í‘œê°’ì„ ë²—ì–´ë‚¬ì„ ê²½ìš°, ê²½ê³  í…ìŠ¤íŠ¸ ì¶œë ¥ í›„ ë¦¬í„´
            if(inputNum > 100 || inputNum < 1){
                result_area.innerText = `1~100 ì‚¬ì´ì˜ ì •ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”`;
                return;
            }
            // ë¹„êµí•˜ê¸°
            if (inputNum > ranNum){
                result_area.innerText = `${inputNum}ì€ ì •ë‹µë³´ë‹¤ í½ë‹ˆë‹¤ğŸ‘†`;
            }else if (inputNum < ranNum){
                result_area.innerText = `${inputNum}ì€ ì •ë‹µë³´ë‹¤ ì‘ìŠµë‹ˆë‹¤ğŸ‘‡`;
            }else{
                result_area.innerText = `${inputNum}ì´(ê°€) ë§ìŠµë‹ˆë‹¤!ğŸ˜`;
                play_button.disabled=true;
                return;
            }
            // ì°¬ìŠ¤ ì¹´ìš´íŠ¸ ê°ì†Œ ë° ì¶œë ¥
            chance--;
            chance_area.innerText = `ë‚¨ì€ ê¸°íšŒ:${chance}ë²ˆ`;
            // ì°¬ìŠ¤ê°€ 0ì´ ë˜ë©´ í™•ì¸ ë²„íŠ¼ ë¹„í™œì„±í™”
            if (chance<1){
                play_button.disabled=true;
                result_area.innerText = `ëª¨ë“  ê¸°íšŒë¥¼ ì†Œì§„í•˜ì˜€ìŠµë‹ˆë‹¤ğŸ˜­`;
            }
        }
        // ë¦¬ì…‹ í•¨ìˆ˜
        function resetEvent(){
            chance = 5; // ì°¬ìŠ¤ ì´ˆê¸°í™”
            ranNum = parseInt(Math.random() * 100 + 1); // ëœë¤ ë„˜ë²„ ì´ˆê¸°í™”
            chance_area.innerText = `ë‚¨ì€ ê¸°íšŒ:${chance}ë²ˆ`; // ì°¬ìŠ¤ í…ìŠ¤íŠ¸ ì´ˆê¸°í™”
            result_area.innerText = `ê²°ê³¼ê°’ì´ ì—¬ê¸° ë‚˜ì˜µë‹ˆë‹¤!`; // ë¦¬ì ˆíŠ¸ í…ìŠ¤íŠ¸ ì´ˆê¸°í™”
            user_input.value = ""; // ì…ë ¥ê°’ ì´ˆê¸°í™”
            play_button.disabled=false; // í”Œë ˆì´ ë²„íŠ¼ í™œì„±í™”
            inputNumList = []; //ì…ë ¥ê°’ ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”
        }
        play_button.addEventListener('click',playEvent);
        reset_button.addEventListener('click',resetEvent);

    </script>
    </body>
    
    </html>